!function(){"use strict";var e=[{name:"Lembah Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_yosemite.jpg"},{name:"Danau Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_lake-louise.jpg"},{name:"Pegunungan Gundul",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_bald-mountains.jpg"},{name:"Gunung Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_latemar.jpg"},{name:"Taman Nasional Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_lago.jpg"}],t=document.getElementById("name-content"),n=document.getElementById("about-content"),o=document.getElementById("popup-image"),r=document.getElementById("close-image"),i=document.getElementById("popup"),a=document.getElementById("place-image"),l=document.getElementById("popup-form"),u=document.getElementById("close-form"),c=document.getElementById("form-title"),s=(document.getElementById("edit-btn"),document.getElementById("add-btn"),document.forms.edit),m=s.elements.name,p=s.elements.about,d=document.forms.add,f=d.elements.title,y=d.elements.url,v=function(e){return e.some((function(e){return!e.validity.valid}))};function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==b(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===b(r)?r:String(r)),o)}var r}Array.from(document.querySelectorAll(".popup__input-form")).forEach((function(e){!function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__submit");t.forEach((function(o){o.addEventListener("input",(function(){!function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.validity.valid?(t.classList.remove("form__input_type_error"),n.classList.remove("form__input-error_active"),n.textContent=""):(t.classList.add(".form__input_type_error"),n.textContent=t.validationMessage,n.classList.add("form__input-error_active"))}(e,o),function(e,t){console.log(v(e)),v(e)?(t.classList.add("popup__submit_inactive"),t.disabled=!0):(t.classList.remove("popup__submit_inactive"),t.disabled=!1)}(t,n)}))}))}(e)}));var g=function(){function e(t,n){var o=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=o,this.renderer=r,this.classSelector=n}var t,n;return t=e,(n=[{key:"doDelete",value:function(e){var t=document.querySelectorAll(".elements__card"),n=this.items.findIndex((function(t){return t.name===e}));t[n].remove(),this.items.splice(n,1),console.log(n)}},{key:"Renderer",value:function(){var e=this;this.items.forEach((function(t){var n=new e.renderer(t.name,t.link).render(template);e.classSelector.appendChild(n)}))}},{key:"Clear",value:function(){this.classSelector.innerHTML=""}},{key:"addItem",value:function(e){this.classSelector.append(e)}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==S(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===S(r)?r:String(r)),o)}var r}var w=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.link=t,this.name=n,this.popupSelector=o}var t,n;return t=e,(n=[{key:"OpenImage",value:function(){i.classList.add("popup_opened"),this.popupSelector.classList.add("popup__image_opened"),a.src=this.link,document.getElementById("place-name").textContent=this.name}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==E(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===E(r)?r:String(r)),o)}var r}var L=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.about=n}var o,r;return o=e,(r=[{key:"getUserInfo",value:function(){m.value=this.name,p.value=this.about}},{key:"setUserInfo",value:function(){t.textContent=m.value,n.textContent=p.value}}])&&k(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),e}();function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==I(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===I(r)?r:String(r)),o)}var r}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popupSelector=t}var o,r;return o=e,r=[{key:"openEditform",value:function(){var e=new L(t.textContent,n.textContent);i.classList.add("popup_opened"),this.popupSelector.classList.add("popup__container_opened"),c.textContent="Edit profile",document.getElementById("add").style.display="none",document.getElementById("edit").style.display="grid",e.getUserInfo()}},{key:"openPlaceform",value:function(){i.classList.add("popup_opened"),this.popupSelector.classList.add("popup__container_opened"),c.textContent="Tempat baru",document.getElementById("edit").style.display="none",document.getElementById("add").style.display="grid"}}],r&&P(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function B(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==C(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===C(r)?r:String(r)),o)}var r}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popupSelector=t}var t,n;return t=e,(n=[{key:"Open",value:function(e,t,n){var o=new j(this.popupSelector),r=new w(t,n,this.popupSelector);"add"===e?o.openPlaceform():"edit"===e?o.openEditform():"image"===e&&r.OpenImage(),this.setEventListener()}},{key:"Close",value:function(){i.classList.remove("popup_opened"),l.classList.remove("popup__container_opened"),o.classList.remove("popup__image_opened"),m.value="",p.value="",f.value="",y.value="",document.querySelectorAll(".popup__submit").forEach((function(e){e.classList.add("popup__submit_inactive"),e.disabled=!0}))}},{key:"_handleEscClose",value:function(e){27==e.keyCode&&this.Close()}},{key:"setEventListener",value:function(){var e=this;u.addEventListener("click",(function(){return e.Close()})),r.addEventListener("click",(function(){return e.Close()})),document.addEventListener("keydown",(function(t){return e._handleEscClose(t)})),this.popupSelector.addEventListener("click",(function(e){e.stopPropagation()})),i.addEventListener("click",(function(){e.Close()}))}}])&&B(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),T=(document.getElementById("name-content"),document.getElementById("about-content"),document.getElementById("popup-form")),x=document.getElementById("edit-btn"),D=document.getElementById("add-btn"),q=document.forms.edit,A=(q.elements.name,q.elements.about,document.forms.add),z=A.elements.title,R=A.elements.url,U=new O(T),M=new L;function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function H(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==G(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===G(r)?r:String(r)),o)}var r}q.addEventListener("submit",(function(e){e.preventDefault(),M.setUserInfo(),U.Close()})),A.addEventListener("submit",(function(t){var n;t.preventDefault(),n=new g({items:e,renderer:F},holder),e.unshift({name:z.value,link:R.value}),n.Clear(),n.Renderer(),U.Close()})),x.addEventListener("click",(function(){return U.Open("edit")})),D.addEventListener("click",(function(){return U.Open("add")}));var N=function(){function e(t,n){var o=t.items,r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=o,this.renderer=r,this.classSelector=n}var t,n;return t=e,(n=[{key:"doDelete",value:function(e){var t=document.querySelectorAll(".elements__card"),n=this.items.findIndex((function(t){return t.name===e}));t[n].remove(),this.items.splice(n,1),console.log(n)}},{key:"Renderer",value:function(){var e=this;this.items.forEach((function(t){var n=new e.renderer(t.name,t.link).render(template);e.classSelector.appendChild(n)}))}},{key:"Clear",value:function(){this.classSelector.innerHTML=""}},{key:"addItem",value:function(e){this.classSelector.append(e)}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==V(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===V(r)?r:String(r)),o)}var r}var F=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._link=n}var n,r;return n=t,r=[{key:"_doDelete",value:function(n){new N({items:e,renderer:t},holder).doDelete(n)}},{key:"_doLike",value:function(e){e.target.classList.toggle("elements__like-black")}},{key:"addEventDelete",value:function(e){var t=this;e.getElementById("delete").addEventListener("click",(function(){return t._doDelete(t._name)}))}},{key:"addEventOpen",value:function(e){var t=this,n=new O(o);e.getElementById("photo").addEventListener("click",(function(){return n.Open("image",t._link,t._name)}))}},{key:"addEventLike",value:function(e){e.getElementById("like").addEventListener("click",this._doLike)}},{key:"Place",value:function(e,t,n,o){e.getElementById(t)[n]=o}},{key:"render",value:function(e){var t=e.content.cloneNode(!0);return this.Place(t,"placename","innerText",this._name),this.Place(t,"photo","src",this._link),this.addEventDelete(t),this.addEventOpen(t),this.addEventLike(t),t}}],r&&Y(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();new g({items:e,renderer:F},holder).Renderer()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSWIsRUFBTTNFLEdBQ1R1RyxFQUFNekcsZUFBZSxTQUM3QitCLGlCQUFpQixTQUFTLGtCQUFNMkQsRUFBVVMsS0FBSyxRQUFTUSxFQUFLTixNQUFPTSxFQUFLUCxNQUFNLEdBQzVGLEdBQUMsQ0FBQWhELElBQUEsZUFBQUMsTUFFRCxTQUFhb0QsR0FDUUEsRUFBTXpHLGVBQWUsUUFDN0IrQixpQkFBaUIsUUFBU29CLEtBQUt5RCxRQUM1QyxHQUFDLENBQUF4RCxJQUFBLFFBQUFDLE1BR0QsU0FBTW9ELEVBQU9JLEVBQVdDLEVBQU16RCxHQUNqQm9ELEVBQU16RyxlQUFlNkcsR0FDN0JDLEdBQVF6RCxDQUNiLEdBQUMsQ0FBQUQsSUFBQSxTQUFBQyxNQUVELFNBQU9VLEdBQ0wsSUFBTTBDLEVBQVExQyxFQUFTZ0QsUUFBUUMsV0FBVSxHQVN6QyxPQVBBN0QsS0FBSzhELE1BQU1SLEVBQU8sWUFBYSxZQUFhdEQsS0FBS2lELE9BQ2pEakQsS0FBSzhELE1BQU1SLEVBQU8sUUFBUyxNQUFPdEQsS0FBS2tELE9BRXZDbEQsS0FBSytELGVBQWVULEdBQ3BCdEQsS0FBS2dFLGFBQWFWLEdBQ2xCdEQsS0FBS2lFLGFBQWFYLEdBRVhBLENBRVQsSSx1RUFBQ1gsQ0FBQSxDQWxEc0IsR0NBWCxJQUFJakQsRUFBUSxDQUFDRyxNQUFRckQsRUFBZXNELFNBQVc2QyxHQUFPQyxRQUM5REcsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QvLi9zcmMvc2NyaXB0L2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vc3JjL3NjcmlwdC9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3Byb2plY3QvLi9zcmMvc2NyaXB0L3NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL3NyYy9zY3JpcHQvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL3NyYy9zY3JpcHQvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL3NyYy9zY3JpcHQvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vc3JjL3NjcmlwdC9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vc3JjL3NjcmlwdC91dGlscy5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0Ly4vc3JjL3NjcmlwdC9TZWN0aW9uLmpzIiwid2VicGFjazovL3Byb2plY3QvLi9zcmMvc2NyaXB0L2NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdC8uL3NyYy9zY3JpcHQvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogXCJMZW1iYWggWW9zZW1pdGVcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX3lvc2VtaXRlLmpwZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkRhbmF1IExvdWlzZVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfbGFrZS1sb3Vpc2UuanBnXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiUGVndW51bmdhbiBHdW5kdWxcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2JhbGQtbW91bnRhaW5zLmpwZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIkd1bnVuZyBMYXRlbWFyXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS93ZWItY29kZS9tb3ZlZF9sYXRlbWFyLmpwZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiBcIlRhbWFuIE5hc2lvbmFsIFZhbm9pc2VcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX3Zhbm9pc2UuanBnXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2xhZ28uanBnXCJcclxuICAgIH1cclxuICBdO1xyXG5cclxuLy9wcm9maWxlIGNvbnRlbnRcclxuZXhwb3J0IGNvbnN0IG5hbWVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUtY29udGVudCcpO1xyXG5leHBvcnQgY29uc3QgYWJvdXRDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fib3V0LWNvbnRlbnQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtaW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IGNsb3NlaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UtaW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJyk7XHJcbmV4cG9ydCBjb25zdCBwbGFjZUltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYWNlLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtZm9ybScpO1xyXG5leHBvcnQgY29uc3QgY2xvc2Vmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLWZvcm0nKTtcclxuZXhwb3J0IGNvbnN0IGZvcm10aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLXRpdGxlJyk7XHJcbi8vYnV0dG9uXHJcbmV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXQtYnRuJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLWJ0bicpO1xyXG4vL2Zvcm0gZWRpdFxyXG5leHBvcnQgY29uc3QgZm9ybUVkaXQgPSBkb2N1bWVudC5mb3Jtcy5lZGl0O1xyXG5leHBvcnQgY29uc3QgbmFtZSA9IGZvcm1FZGl0LmVsZW1lbnRzLm5hbWU7XHJcbmV4cG9ydCBjb25zdCBhYm91dCA9IGZvcm1FZGl0LmVsZW1lbnRzLmFib3V0O1xyXG4vL2Zvcm0gYWRkXHJcbmV4cG9ydCBjb25zdCBmb3JtQWRkID0gZG9jdW1lbnQuZm9ybXMuYWRkO1xyXG5leHBvcnQgY29uc3QgdGl0bGUgPSBmb3JtQWRkLmVsZW1lbnRzLnRpdGxlO1xyXG5leHBvcnQgY29uc3QgdXJsID0gZm9ybUFkZC5lbGVtZW50cy51cmw7XHJcbiIsIi8vdmFsaWRhdGlvblxyXG4vL2NoZWNrIGlucHV0XHJcbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gIC8vc2hvdyBlcnJvclxyXG4gIGlmKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpe1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCIuZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIpO1xyXG4gIH0gXHJcbiAgLy9oaWRlIGVycm9yXHJcbiAgZWxzZXtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXRfdHlwZV9lcnJvclwiKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcbn1cclxuXHJcblxyXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XHJcbiAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuXHJcbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKTtcclxuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX19zdWJtaXRfaW5hY3RpdmVcIik7XHJcbiAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfX3N1Ym1pdF9pbmFjdGl2ZVwiKTtcclxuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG4vL3NldCBldmVudCBsaW5zdGVuZXJcclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lciA9IChmb3JtRWxlbWVudCkgPT4ge1xyXG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIikpO1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXRcIik7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbigpe1xyXG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCk7XHJcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCxidXR0b25FbGVtZW50KTtcclxuICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0LWZvcm1cIikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBzZXRFdmVudExpc3RlbmVyKGZvcm1FbGVtZW50KTtcclxuICB9KVxyXG59XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKCk7IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIGNsYXNzU2VsZWN0b3Ipe1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5jbGFzc1NlbGVjdG9yID0gY2xhc3NTZWxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICAvL0RldGVsZSBmdW5jdGlvblxyXG4gICAgZG9EZWxldGUoaXRlbSl7XHJcbiAgICAgICAgY29uc3QgYWxsZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWxlbWVudHNfX2NhcmQnKVxyXG4gICAgICAgIGNvbnN0IGlkeE9iaiA9IHRoaXMuaXRlbXMuZmluZEluZGV4KChvYmopID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iai5uYW1lID09PSBpdGVtO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGFsbGVsZW1lbnRzW2lkeE9ial0ucmVtb3ZlKClcclxuXHJcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaWR4T2JqLCAxKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpZHhPYmopO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL1JlbmRlciBmdW5jdGlvbiBkYWxhbSBjbGFzc1xyXG4gICAgUmVuZGVyZXIoKXtcclxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgdGhpcy5yZW5kZXJlcihcclxuICAgICAgICAgICAgICAgIGl0ZW0ubmFtZSwgaXRlbS5saW5rXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gY2FyZC5yZW5kZXIodGVtcGxhdGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmNsYXNzU2VsZWN0b3IuYXBwZW5kQ2hpbGQoY2xvbmVkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBDbGVhcigpe1xyXG4gICAgICAgIHRoaXMuY2xhc3NTZWxlY3Rvci5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKHNlbGVjdG9yKXtcclxuICAgICAgICB0aGlzLmNsYXNzU2VsZWN0b3IuYXBwZW5kKHNlbGVjdG9yKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IHBvcHVwLCBwbGFjZUltYWdlLCBwbGFjZU5hbWUgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZXtcclxuICAgIGNvbnN0cnVjdG9yKGxpbmssIG5hbWUsIHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgICAgIHRoaXMubGluayA9IGxpbmssXHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZSxcclxuICAgICAgICB0aGlzLnBvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yXHJcbiAgICB9XHJcblxyXG4gICAgT3BlbkltYWdlKCl7XHJcbiAgICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgdGhpcy5wb3B1cFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19pbWFnZV9vcGVuZWQnKTtcclxuICAgIFxyXG4gICAgICAgIHBsYWNlSW1hZ2Uuc3JjID0gdGhpcy5saW5rO1xyXG4gICAgICAgIGNvbnN0IHBsYWNlTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGFjZS1uYW1lJyk7XHJcbiAgICAgICAgcGxhY2VOYW1lLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IG5hbWUsIGFib3V0LCBuYW1lQ29udGVudCwgYWJvdXRDb250ZW50IH0gZnJvbSBcIi4vY29uc3RhbnRzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VySW5mb3tcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGFib3V0KXtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lLFxyXG4gICAgICAgIHRoaXMuYWJvdXQgPSBhYm91dFxyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCl7XHJcbiAgICAgICAgbmFtZS52YWx1ZSA9IHRoaXMubmFtZTtcclxuICAgICAgICBhYm91dC52YWx1ZSA9IHRoaXMuYWJvdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckluZm8oKXtcclxuICAgICAgICBuYW1lQ29udGVudC50ZXh0Q29udGVudCA9IG5hbWUudmFsdWU7XHJcbiAgICAgICAgYWJvdXRDb250ZW50LnRleHRDb250ZW50ID0gYWJvdXQudmFsdWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBwb3B1cCwgZm9ybXRpdGxlLCBuYW1lLCBhYm91dCwgbmFtZUNvbnRlbnQsIGFib3V0Q29udGVudCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuL1VzZXJJbmZvXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybXtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3Ipe1xyXG4gICAgICAgIHRoaXMucG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3JcclxuICAgIH1cclxuXHJcbiAgICBvcGVuRWRpdGZvcm0oKXtcclxuXHJcbiAgICAgICAgY29uc3QgdXNlcmluZm8gPSBuZXcgVXNlckluZm8obmFtZUNvbnRlbnQudGV4dENvbnRlbnQsIGFib3V0Q29udGVudC50ZXh0Q29udGVudCk7XHJcblxyXG4gICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIHRoaXMucG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKCdwb3B1cF9fY29udGFpbmVyX29wZW5lZCcpO1xyXG4gICAgICAgIGZvcm10aXRsZS50ZXh0Q29udGVudD1cIkVkaXQgcHJvZmlsZVwiO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZFwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFwiKS5zdHlsZS5kaXNwbGF5PVwiZ3JpZFwiO1xyXG5cclxuICAgICAgICB1c2VyaW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW5QbGFjZWZvcm0oKXtcclxuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICB0aGlzLnBvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfX2NvbnRhaW5lcl9vcGVuZWQnKTtcclxuICAgICAgICBmb3JtdGl0bGUudGV4dENvbnRlbnQgPSBcIlRlbXBhdCBiYXJ1XCI7XHJcbiAgICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdFwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkXCIpLnN0eWxlLmRpc3BsYXk9XCJncmlkXCI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBcclxuICAgIG5hbWUsIFxyXG4gICAgYWJvdXQsIFxyXG4gICAgdGl0bGUsXHJcbiAgICB1cmwsXHJcbiAgICBjbG9zZWZvcm0sIFxyXG4gICAgcG9wdXAsIFxyXG4gICAgcG9wdXBmb3JtLCBcclxuICAgIHBvcHVwaW1hZ2UsXHJcbiAgICBjbG9zZWltYWdlLFxyXG59IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcclxuICAgICAgICB0aGlzLnBvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBPcGVuKGV2dCwgbGluaywgbmFtZSl7XHJcbiAgICAgICAgY29uc3QgcG9wdXB3aXRoZm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHRoaXMucG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgY29uc3QgcG9wdXB3aXRoaW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UobGluaywgbmFtZSwgdGhpcy5wb3B1cFNlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgaWYoZXZ0ID09PSBcImFkZFwiKXtcclxuICAgICAgICAgICAgcG9wdXB3aXRoZm9ybS5vcGVuUGxhY2Vmb3JtKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoZXZ0ID09PSBcImVkaXRcIil7XHJcbiAgICAgICAgICAgIHBvcHVwd2l0aGZvcm0ub3BlbkVkaXRmb3JtKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoZXZ0ID09PSBcImltYWdlXCIpeyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBwb3B1cHdpdGhpbWFnZS5PcGVuSW1hZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZXRFdmVudExpc3RlbmVyKClcclxuICAgIH1cclxuXHJcbiAgICBDbG9zZSgpe1xyXG4gICAgICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIHBvcHVwZm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9fY29udGFpbmVyX29wZW5lZCcpO1xyXG4gICAgICAgIHBvcHVwaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfX2ltYWdlX29wZW5lZCcpO1xyXG4gICAgICAgIG5hbWUudmFsdWUgPSAnJztcclxuICAgICAgICBhYm91dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgIHRpdGxlLnZhbHVlID0gJyc7XHJcbiAgICAgICAgdXJsLnZhbHVlID0gJyc7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19zdWJtaXRcIik7XHJcblxyXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuZm9yRWFjaCgoaXRlbSk9PntcclxuICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdwb3B1cF9fc3VibWl0X2luYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGl0ZW0uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCl7XHJcbiAgICAgICAgaWYoZXZ0LmtleUNvZGUgPT0gMjcpe1xyXG4gICAgICAgICAgICB0aGlzLkNsb3NlKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVyKCl7XHJcbiAgICAgICAgY2xvc2Vmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5DbG9zZSgpKTtcclxuICAgICAgICBjbG9zZWltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5DbG9zZSgpKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4gdGhpcy5faGFuZGxlRXNjQ2xvc2UoZXZ0KSk7XHJcbiAgICAgICAgdGhpcy5wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldnQpe1xyXG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBwb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgfVxyXG59IiwiICBpbXBvcnQgeyBlbmFibGVWYWxpZGF0aW9uIH0gZnJvbSBcIi4vRm9ybVZhbGlkYXRvci5qc1wiO1xyXG4gIGltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xyXG4gIGltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmQuanNcIjtcclxuICBpbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4vc2VjdGlvbi5qc1wiO1xyXG4gIGltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuICBpbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuL1VzZXJJbmZvLmpzXCI7XHJcblxyXG4gIC8vcHJvZmlsZSBjb250ZW50XHJcbiAgY29uc3QgbmFtZUNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZS1jb250ZW50Jyk7XHJcbiAgY29uc3QgYWJvdXRDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fib3V0LWNvbnRlbnQnKTtcclxuICBjb25zdCBwb3B1cGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9wdXAtZm9ybScpO1xyXG4gIC8vYnV0dG9uXHJcbiAgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LWJ0bicpO1xyXG4gIGNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtYnRuJyk7XHJcbiAgLy9mb3JtIGVkaXRcclxuICBjb25zdCBmb3JtRWRpdCA9IGRvY3VtZW50LmZvcm1zLmVkaXQ7XHJcbiAgY29uc3QgbmFtZSA9IGZvcm1FZGl0LmVsZW1lbnRzLm5hbWU7XHJcbiAgY29uc3QgYWJvdXQgPSBmb3JtRWRpdC5lbGVtZW50cy5hYm91dDtcclxuICAvL2Zvcm0gYWRkXHJcbiAgY29uc3QgZm9ybUFkZCA9IGRvY3VtZW50LmZvcm1zLmFkZDtcclxuICBjb25zdCB0aXRsZSA9IGZvcm1BZGQuZWxlbWVudHMudGl0bGU7XHJcbiAgY29uc3QgdXJsID0gZm9ybUFkZC5lbGVtZW50cy51cmw7XHJcblxyXG4gIGNvbnN0IHRlc3Rwb3B1cCA9IG5ldyBQb3B1cChwb3B1cGZvcm0pO1xyXG4gIGNvbnN0IHVzZXJpbmZvID0gbmV3IFVzZXJJbmZvKCk7XHJcblxyXG4gIFxyXG5mb3JtRWRpdC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBzYXZlUHJvZmlsZSgpO1xyXG59KVxyXG5cclxuZnVuY3Rpb24gc2F2ZVByb2ZpbGUoKXtcclxuICB1c2VyaW5mby5zZXRVc2VySW5mbygpO1xyXG4gIHRlc3Rwb3B1cC5DbG9zZSgpO1xyXG59XHJcblxyXG5cclxuZm9ybUFkZC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGV2dCl7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgc2F2ZUFkZCgpO1xyXG59KVxyXG5cclxuZnVuY3Rpb24gc2F2ZUFkZCgpe1xyXG4gIGNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7aXRlbXMgOiBpbml0aWFsQ2FyZHMgLCByZW5kZXJlciA6IENhcmR9LCBob2xkZXIpO1xyXG5cclxuICBpbml0aWFsQ2FyZHMudW5zaGlmdCh7bmFtZTogdGl0bGUudmFsdWUsIGxpbms6IHVybC52YWx1ZX0pO1xyXG4gIHNlY3Rpb24uQ2xlYXIoKTtcclxuICBzZWN0aW9uLlJlbmRlcmVyKCk7XHJcbiAgdGVzdHBvcHVwLkNsb3NlKCk7XHJcbn1cclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpID0+IHRlc3Rwb3B1cC5PcGVuKFwiZWRpdFwiKSk7XHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCkgPT4gdGVzdHBvcHVwLk9wZW4oXCJhZGRcIikpO1xyXG5cclxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIGNsYXNzU2VsZWN0b3Ipe1xyXG4gICAgICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcclxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5jbGFzc1NlbGVjdG9yID0gY2xhc3NTZWxlY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICAvL0RldGVsZSBmdW5jdGlvblxyXG4gICAgZG9EZWxldGUoaXRlbSl7XHJcbiAgICAgICAgY29uc3QgYWxsZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZWxlbWVudHNfX2NhcmQnKVxyXG4gICAgICAgIGNvbnN0IGlkeE9iaiA9IHRoaXMuaXRlbXMuZmluZEluZGV4KChvYmopID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iai5uYW1lID09PSBpdGVtO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGFsbGVsZW1lbnRzW2lkeE9ial0ucmVtb3ZlKClcclxuXHJcbiAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaWR4T2JqLCAxKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpZHhPYmopO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL1JlbmRlciBmdW5jdGlvbiBkYWxhbSBjbGFzc1xyXG4gICAgUmVuZGVyZXIoKXtcclxuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgdGhpcy5yZW5kZXJlcihcclxuICAgICAgICAgICAgICAgIGl0ZW0ubmFtZSwgaXRlbS5saW5rXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gY2FyZC5yZW5kZXIodGVtcGxhdGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmNsYXNzU2VsZWN0b3IuYXBwZW5kQ2hpbGQoY2xvbmVkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBDbGVhcigpe1xyXG4gICAgICAgIHRoaXMuY2xhc3NTZWxlY3Rvci5pbm5lckhUTUwgPSAnJztcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKHNlbGVjdG9yKXtcclxuICAgICAgICB0aGlzLmNsYXNzU2VsZWN0b3IuYXBwZW5kKHNlbGVjdG9yKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IGVzY2FwZUJ1dHRvbiB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XHJcbmltcG9ydCB7IGluaXRpYWxDYXJkcywgcG9wdXBpbWFnZSwgY2xvc2VpbWFnZSwgcGxhY2VJbWFnZSB9IGZyb20gXCIuL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4vU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG4gIGV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgbGluayl7XHJcbiAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIH1cclxuXHJcbiAgICAvL2J1dHRvbiBmdW5jdGlvblxyXG4gICAgX2RvRGVsZXRlKGl0ZW0pe1xyXG4gICAgICBjb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oe2l0ZW1zIDogaW5pdGlhbENhcmRzICwgcmVuZGVyZXIgOiBDYXJkfSwgaG9sZGVyKTtcclxuICAgICAgc2VjdGlvbi5kb0RlbGV0ZShpdGVtKTtcclxuICAgIH1cclxuICBcclxuICAgIF9kb0xpa2UoaXRlbSl7XHJcbiAgICAgIGl0ZW0udGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50c19fbGlrZS1ibGFja1wiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgYWRkRXZlbnREZWxldGUoY2xvbmUpe1xyXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBjbG9uZS5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XHJcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2RvRGVsZXRlKHRoaXMuX25hbWUpKTtcclxuICAgIH1cclxuICBcclxuICAgIGFkZEV2ZW50T3BlbihjbG9uZSl7XHJcbiAgICAgIGNvbnN0IHRlc3Rwb3B1cCA9IG5ldyBQb3B1cChwb3B1cGltYWdlKTtcclxuICAgICAgY29uc3QgY2xpY2tQaG90byA9IGNsb25lLmdldEVsZW1lbnRCeUlkKCdwaG90bycpO1xyXG4gICAgICBjbGlja1Bob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGVzdHBvcHVwLk9wZW4oXCJpbWFnZVwiLCB0aGlzLl9saW5rLCB0aGlzLl9uYW1lKSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBhZGRFdmVudExpa2UoY2xvbmUpe1xyXG4gICAgICBjb25zdCBsaWtlQnV0dG9uID0gY2xvbmUuZ2V0RWxlbWVudEJ5SWQoJ2xpa2UnKTtcclxuICAgICAgbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2RvTGlrZSlcclxuICAgIH1cclxuICBcclxuICBcclxuICAgIFBsYWNlKGNsb25lLCBlbGVtZW50SWQsIHR5cGUsIHZhbHVlKXtcclxuICAgICAgY29uc3QgZWwgPSBjbG9uZS5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xyXG4gICAgICBlbFt0eXBlXSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgcmVuZGVyKHRlbXBsYXRlKXtcclxuICAgICAgY29uc3QgY2xvbmUgPSB0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcclxuICAgIFxyXG4gICAgICB0aGlzLlBsYWNlKGNsb25lLCAncGxhY2VuYW1lJywgJ2lubmVyVGV4dCcsIHRoaXMuX25hbWUpO1xyXG4gICAgICB0aGlzLlBsYWNlKGNsb25lLCAncGhvdG8nLCAnc3JjJywgdGhpcy5fbGluayk7XHJcbiAgXHJcbiAgICAgIHRoaXMuYWRkRXZlbnREZWxldGUoY2xvbmUpO1xyXG4gICAgICB0aGlzLmFkZEV2ZW50T3BlbihjbG9uZSk7XHJcbiAgICAgIHRoaXMuYWRkRXZlbnRMaWtlKGNsb25lKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBjbG9uZTtcclxuICBcclxuICAgIH1cclxuICB9XHJcbiIsImltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi9jYXJkLmpzJztcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gJy4vc2VjdGlvbi5qcyc7XHJcbmltcG9ydCAnLi4vcGFnZXMvaW5kZXguY3NzJ1xyXG5cclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtpdGVtcyA6IGluaXRpYWxDYXJkcyAsIHJlbmRlcmVyIDogQ2FyZH0sIGhvbGRlcik7XHJcbnNlY3Rpb24uUmVuZGVyZXIoKVxyXG5cclxuXHJcbi8vcHJvZmlsZSBjb250ZW50XHJcbi8vIGNvbnN0IG5hbWVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUtY29udGVudCcpO1xyXG4vLyBjb25zdCBhYm91dENvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWJvdXQtY29udGVudCcpO1xyXG4vLyAvL2NhcmRcclxuLy8gY29uc3QgaG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hvbGRlcicpO1xyXG4vLyBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZW1wbGF0ZScpO1xyXG4vLyAvL3BvcHVwXHJcbi8vIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwJyk7XHJcbi8vIC8vcG9wdXAgaW1hZ2VcclxuLy8gLy8gY29uc3QgcG9wdXBpbWFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cC1pbWFnZScpO1xyXG4vLyAvLyBjb25zdCBjbG9zZWltYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlLWltYWdlJyk7XHJcbi8vIC8vIGNvbnN0IHBsYWNlSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxhY2UtaW1hZ2UnKTtcclxuLy8gLy9wb3B1cCBmb3JtXHJcbi8vIGNvbnN0IHBvcHVwZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3B1cC1mb3JtJyk7XHJcbi8vIGNvbnN0IGNsb3NlZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZS1mb3JtJyk7XHJcbi8vIGNvbnN0IGZvcm10aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLXRpdGxlJyk7XHJcbi8vIC8vIC8vYnV0dG9uXHJcbi8vIC8vIGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdC1idG4nKTtcclxuLy8gLy8gY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZC1idG4nKTtcclxuLy8gLy9mb3JtIGVkaXRcclxuLy8gY29uc3QgZm9ybUVkaXQgPSBkb2N1bWVudC5mb3Jtcy5lZGl0O1xyXG4vLyBjb25zdCBuYW1lID0gZm9ybUVkaXQuZWxlbWVudHMubmFtZTtcclxuLy8gY29uc3QgYWJvdXQgPSBmb3JtRWRpdC5lbGVtZW50cy5hYm91dDtcclxuLy8gLy9mb3JtIGFkZFxyXG4vLyBjb25zdCBmb3JtQWRkID0gZG9jdW1lbnQuZm9ybXMuYWRkO1xyXG4vLyBjb25zdCB0aXRsZSA9IGZvcm1BZGQuZWxlbWVudHMudGl0bGU7XHJcbi8vIGNvbnN0IHVybCA9IGZvcm1BZGQuZWxlbWVudHMudXJsO1xyXG5cclxuLy9jbGFzcyBDYXJkXHJcbi8vIGNsYXNzIENhcmQge1xyXG4vLyAgIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmspe1xyXG4vLyAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuLy8gICAgIHRoaXMubGluayA9IGxpbms7XHJcbi8vICAgfVxyXG5cclxuLy8gICBfZG9EZWxldGUoKXtcclxuLy8gICAgIGNvbnN0IGlkeE9iaiA9IGluaXRpYWxDYXJkcy5maW5kSW5kZXgoKG9iaikgPT4ge1xyXG4vLyAgICAgICByZXR1cm4gb2JqLm5hbWUgPT09IHRoaXMubmFtZTtcclxuLy8gICAgIH0pXHJcblxyXG4vLyAgICAgaW5pdGlhbENhcmRzLnNwbGljZShpZHhPYmosIDEpO1xyXG5cclxuLy8gICAgIGNsZWFyKCk7XHJcbi8vICAgICByZW5kZXIoKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIF9kb0xpa2UoaXRlbSl7XHJcbi8vICAgICBpdGVtLnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudHNfX2xpa2UtYmxhY2tcIik7XHJcbi8vICAgfVxyXG5cclxuLy8gICBfZG9PcGVuKCl7XHJcbi8vICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuLy8gICAgIHBvcHVwaW1hZ2UuY2xhc3NMaXN0LmFkZCgncG9wdXBfX2ltYWdlX29wZW5lZCcpO1xyXG5cclxuLy8gICAgIHBsYWNlSW1hZ2Uuc3JjID0gdGhpcy5saW5rO1xyXG4vLyAgICAgY29uc3QgcGxhY2VOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYWNlLW5hbWUnKTtcclxuLy8gICAgIHBsYWNlTmFtZS50ZXh0Q29udGVudCA9IHRoaXMubmFtZTtcclxuXHJcbi8vICAgICBjbG9zZWltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQb3B1cEltYWdlKSAgXHJcbi8vICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NhcGVCdXR0b24pO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgYWRkRXZlbnREZWxldGUoY2xvbmUpe1xyXG4vLyAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gY2xvbmUuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xyXG4vLyAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fZG9EZWxldGUoKSk7XHJcbi8vICAgfVxyXG5cclxuLy8gICBhZGRFdmVudE9wZW4oY2xvbmUpe1xyXG4vLyAgICAgY29uc3QgY2xpY2tQaG90byA9IGNsb25lLmdldEVsZW1lbnRCeUlkKCdwaG90bycpO1xyXG4vLyAgICAgY2xpY2tQaG90by5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2RvT3BlbigpKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIGFkZEV2ZW50TGlrZShjbG9uZSl7XHJcbi8vICAgICBjb25zdCBsaWtlQnV0dG9uID0gY2xvbmUuZ2V0RWxlbWVudEJ5SWQoJ2xpa2UnKTtcclxuLy8gICAgIGxpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9kb0xpa2UpXHJcbi8vICAgfVxyXG5cclxuXHJcbi8vICAgUGxhY2UoY2xvbmUsIGVsZW1lbnRJZCwgdHlwZSwgdmFsdWUpe1xyXG4vLyAgICAgY29uc3QgZWwgPSBjbG9uZS5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xyXG4vLyAgICAgZWxbdHlwZV0gPSB2YWx1ZTtcclxuLy8gICB9XHJcblxyXG4vLyAgIHJlbmRlcih0ZW1wbGF0ZSl7XHJcbi8vICAgICBjb25zdCBjbG9uZSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xyXG4gIFxyXG4vLyAgICAgdGhpcy5QbGFjZShjbG9uZSwgJ3BsYWNlbmFtZScsICdpbm5lclRleHQnLCB0aGlzLm5hbWUpO1xyXG4vLyAgICAgdGhpcy5QbGFjZShjbG9uZSwgJ3Bob3RvJywgJ3NyYycsIHRoaXMubGluayk7XHJcblxyXG4vLyAgICAgdGhpcy5hZGRFdmVudERlbGV0ZShjbG9uZSk7XHJcbi8vICAgICB0aGlzLmFkZEV2ZW50T3BlbihjbG9uZSk7XHJcbi8vICAgICB0aGlzLmFkZEV2ZW50TGlrZShjbG9uZSk7XHJcbiAgICBcclxuLy8gICAgIHJldHVybiBjbG9uZTtcclxuXHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyByZW5kZXIoKTtcclxuXHJcbi8vIGZ1bmN0aW9uIHJlbmRlcigpe1xyXG4vLyAgIGZvcihpID0gMDsgaSA8IGluaXRpYWxDYXJkcy5sZW5ndGg7IGkrKyl7XHJcblxyXG4vLyAgICAgY29uc3QgeyBuYW1lLCBsaW5rIH0gPSBpbml0aWFsQ2FyZHNbaV07XHJcbiAgXHJcbi8vICAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbi8vICAgICAgIG5hbWUsIGxpbmtcclxuLy8gICAgIClcclxuXHJcbi8vICAgICBjb25zdCBjbG9uZWQgPSBjYXJkLnJlbmRlcih0ZW1wbGF0ZSk7XHJcblxyXG4vLyAgICAgaG9sZGVyLmFwcGVuZENoaWxkKGNsb25lZCk7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBmdW5jdGlvbiBjbGVhcigpe1xyXG4vLyAgIGhvbGRlci5pbm5lckhUTUwgPSAnJztcclxuLy8gfVxyXG5cclxuLy8gLy9jYXJkIGJ1dHRvblxyXG4vLyAvLyBmdW5jdGlvbiBkZWxldGVDYXJkKG9iail7XHJcbi8vIC8vICAgY29uc3QgeyBuYW1lLCBsaW5rIH0gPSBvYmo7XHJcblxyXG4vLyAvLyAgIGNvbnN0IGlkeE9iaiA9IGluaXRpYWxDYXJkcy5maW5kSW5kZXgob2JqZWN0ID0+IHtcclxuLy8gLy8gICAgIHJldHVybiBvYmplY3QubmFtZSA9PT0gbmFtZTtcclxuLy8gLy8gICB9KTtcclxuICBcclxuLy8gLy8gICBpbml0aWFsQ2FyZHMuc3BsaWNlKGlkeE9iaiwgMSk7XHJcblxyXG4vLyAvLyAgIGNsZWFyKCk7XHJcbi8vIC8vICAgcmVuZGVyKCk7XHJcbi8vIC8vIH1cclxuXHJcbi8vIC8vIGZ1bmN0aW9uIGxpa2VDYXJkKGl0ZW0peyAgXHJcbi8vIC8vICAgaXRlbS50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19saWtlLWJsYWNrXCIpO1xyXG4vLyAvLyB9XHJcblxyXG4vLyAvLyBmdW5jdGlvbiBPcGVuUGhvdG8ob2JqKXtcclxuLy8gLy8gICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICBcclxuLy8gLy8gICBwb3B1cGltYWdlLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19pbWFnZV9vcGVuZWQnKTtcclxuXHJcbi8vIC8vICAgY29uc3QgeyBuYW1lLCBsaW5rIH0gPSBvYmo7XHJcbi8vIC8vICAgcGxhY2VJbWFnZS5zcmMgPSBsaW5rO1xyXG5cclxuLy8gLy8gICBjb25zdCBwbGFjZU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxhY2UtbmFtZScpO1xyXG4vLyAvLyAgIHBsYWNlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgXHJcbi8vIC8vICAgY2xvc2VpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlUG9wdXBJbWFnZSkgIFxyXG4vLyAvLyAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGVzY2FwZUJ1dHRvbik7XHJcbi8vIC8vIH1cclxuXHJcbi8vIC8vZWRpdCBwcm9maWxlXHJcbi8vIGZ1bmN0aW9uIGVkaXRQcm9maWxlKCl7XHJcbi8vICAgcG9wdXBmb3JtLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19jb250YWluZXJfb3BlbmVkJyk7XHJcbi8vICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbi8vICAgZm9ybXRpdGxlLnRleHRDb250ZW50PVwiRWRpdCBwcm9maWxlXCI7XHJcblxyXG4vLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkXCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XHJcbi8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0XCIpLnN0eWxlLmRpc3BsYXk9XCJncmlkXCI7XHJcblxyXG4vLyAgIG5hbWUudmFsdWUgPSBuYW1lQ29udGVudC50ZXh0Q29udGVudDtcclxuLy8gICBhYm91dC52YWx1ZSA9IGFib3V0Q29udGVudC50ZXh0Q29udGVudDtcclxuXHJcbi8vICAgY2xvc2Vmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VGb3JtKTtcclxuLy8gICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlc2NhcGVCdXR0b24pO1xyXG4vLyB9XHJcblxyXG4vLyBmb3JtRWRpdC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuLy8gICBldnQucHJldmVudERlZmF1bHQoKTtcclxuLy8gICBzYXZlUHJvZmlsZSgpO1xyXG4vLyB9KVxyXG5cclxuLy8gZnVuY3Rpb24gc2F2ZVByb2ZpbGUoKXtcclxuLy8gICBuYW1lQ29udGVudC50ZXh0Q29udGVudCA9IG5hbWUudmFsdWU7XHJcbi8vICAgYWJvdXRDb250ZW50LnRleHRDb250ZW50ID0gYWJvdXQudmFsdWU7XHJcbi8vICAgZm9ybUFkZC5yZXNldCgpO1xyXG4vLyAgIGZvcm1FZGl0LnJlc2V0KCk7XHJcbi8vICAgY2xvc2VGb3JtKCk7XHJcbi8vIH1cclxuXHJcbi8vIC8vYWRkIHBsYWNlXHJcbi8vIGZ1bmN0aW9uIGFkZFBsYWNlKCl7XHJcbi8vICAgcG9wdXBmb3JtLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19jb250YWluZXJfb3BlbmVkJyk7XHJcbi8vICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbi8vICAgZm9ybXRpdGxlLnRleHRDb250ZW50ID0gXCJUZW1wYXQgYmFydVwiO1xyXG5cclxuLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXRcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcclxuLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZFwiKS5zdHlsZS5kaXNwbGF5PVwiZ3JpZFwiO1xyXG5cclxuLy8gICBjbG9zZWZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUZvcm0pO1xyXG4vLyAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGVzY2FwZUJ1dHRvbik7XHJcbi8vIH1cclxuXHJcbi8vIGZvcm1BZGQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbihldnQpe1xyXG4vLyAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgIHNhdmVBZGQoKTtcclxuLy8gfSlcclxuXHJcbi8vIGZ1bmN0aW9uIHNhdmVBZGQoKXtcclxuLy8gICAgICAgaW5pdGlhbENhcmRzLnVuc2hpZnQoe25hbWU6IHRpdGxlLnZhbHVlLCBsaW5rOiB1cmwudmFsdWV9KTtcclxuLy8gICAgICAgY2xlYXIoKTtcclxuLy8gICAgICAgcmVuZGVyKCk7XHJcbi8vICAgICAgIGZvcm1BZGQucmVzZXQoKTtcclxuLy8gICAgICAgZm9ybUVkaXQucmVzZXQoKTtcclxuLy8gICAgICAgY2xvc2VGb3JtKCk7XHJcbi8vIH1cclxuXHJcbi8vY2xvc2UgcG9wdXBcclxuLy8gZnVuY3Rpb24gY2xvc2VQb3B1cEltYWdlKCl7XHJcbi8vICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbi8vICAgcG9wdXBpbWFnZS5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9faW1hZ2Vfb3BlbmVkJyk7XHJcbi8vICAgcGxhY2VJbWFnZS5zcmM9XCJcIjtcclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gY2xvc2VGb3JtKCl7XHJcbi8vICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XHJcbi8vICAgcG9wdXBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX19jb250YWluZXJfb3BlbmVkJyk7XHJcblxyXG4vLyAgIGNvbnN0IGNsZWFyRXJyb3IgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQtZm9ybS1lcnJvcicpKTtcclxuLy8gICBjbGVhckVycm9yLmZvckVhY2goKGlucHV0KSA9PntcclxuLy8gICAgIGlucHV0LnRleHRDb250ZW50ID0gXCJcIlxyXG4vLyAgIH0pXHJcblxyXG4vLyAgIGZvcm1BZGQucmVzZXQoKTtcclxuLy8gICBmb3JtRWRpdC5yZXNldCgpO1xyXG4vLyB9XHJcblxyXG4vL2Nsb3NlIGJ5IGVzY2FwZVxyXG4vLyBmdW5jdGlvbiBlc2NhcGVCdXR0b24oZXZ0KXtcclxuLy8gICBpZihldnQua2V5Q29kZSA9PSAyNyl7XHJcbi8vICAgICBjbG9zZVBvcHVwSW1hZ2UoKTtcclxuLy8gICAgIGNsb3NlRm9ybSgpO1xyXG4vLyB9O1xyXG4vLyB9XHJcblxyXG4vL2Nsb3NlIGJ5IGNsaWNrXHJcbi8vIHBvcHVwZm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZ0KXtcclxuLy8gICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbi8vIH0pXHJcblxyXG4vLyBwb3B1cGltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldnQpe1xyXG4vLyAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuLy8gfSlcclxuXHJcbi8vIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldnQpe1xyXG4vLyAgIGNsb3NlRm9ybSgpO1xyXG4vLyAgIGNsb3NlUG9wdXBJbWFnZSgpO1xyXG4vLyB9KVxyXG5cclxuLy9ldmVudCBsaXN0ZW5lclxyXG4vLyBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxlZGl0UHJvZmlsZSk7XHJcbi8vIGFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsYWRkUGxhY2UpO1xyXG5cclxuIl0sIm5hbWVzIjpbImluaXRpYWxDYXJkcyIsIm5hbWUiLCJsaW5rIiwibmFtZUNvbnRlbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWJvdXRDb250ZW50IiwicG9wdXBpbWFnZSIsImNsb3NlaW1hZ2UiLCJwb3B1cCIsInBsYWNlSW1hZ2UiLCJwb3B1cGZvcm0iLCJjbG9zZWZvcm0iLCJmb3JtdGl0bGUiLCJmb3JtRWRpdCIsImZvcm1zIiwiZWRpdCIsImVsZW1lbnRzIiwiYWJvdXQiLCJmb3JtQWRkIiwiYWRkIiwidGl0bGUiLCJ1cmwiLCJoYXNJbnZhbGlkSW5wdXQiLCJpbnB1dExpc3QiLCJzb21lIiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZm9ybUVsZW1lbnQiLCJidXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlcnJvckVsZW1lbnQiLCJjb25jYXQiLCJpZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJjb25zb2xlIiwibG9nIiwiZGlzYWJsZWQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsInNldEV2ZW50TGlzdGVuZXIiLCJTZWN0aW9uIiwiX3JlZiIsImNsYXNzU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImtleSIsInZhbHVlIiwiaXRlbSIsImFsbGVsZW1lbnRzIiwiaWR4T2JqIiwiZmluZEluZGV4Iiwib2JqIiwic3BsaWNlIiwiX3RoaXMiLCJjbG9uZWQiLCJyZW5kZXIiLCJ0ZW1wbGF0ZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwic2VsZWN0b3IiLCJhcHBlbmQiLCJQb3B1cFdpdGhJbWFnZSIsInBvcHVwU2VsZWN0b3IiLCJzcmMiLCJVc2VySW5mbyIsIlBvcHVwV2l0aEZvcm0iLCJ1c2VyaW5mbyIsInN0eWxlIiwiZGlzcGxheSIsImdldFVzZXJJbmZvIiwiUG9wdXAiLCJldnQiLCJwb3B1cHdpdGhmb3JtIiwicG9wdXB3aXRoaW1hZ2UiLCJvcGVuUGxhY2Vmb3JtIiwib3BlbkVkaXRmb3JtIiwiT3BlbkltYWdlIiwia2V5Q29kZSIsIkNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwic3RvcFByb3BhZ2F0aW9uIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsInRlc3Rwb3B1cCIsInByZXZlbnREZWZhdWx0Iiwic2V0VXNlckluZm8iLCJzZWN0aW9uIiwiQ2FyZCIsImhvbGRlciIsInVuc2hpZnQiLCJDbGVhciIsIlJlbmRlcmVyIiwiT3BlbiIsIl9uYW1lIiwiX2xpbmsiLCJkb0RlbGV0ZSIsInRhcmdldCIsInRvZ2dsZSIsImNsb25lIiwiX2RvRGVsZXRlIiwiX3RoaXMyIiwiX2RvTGlrZSIsImVsZW1lbnRJZCIsInR5cGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiUGxhY2UiLCJhZGRFdmVudERlbGV0ZSIsImFkZEV2ZW50T3BlbiIsImFkZEV2ZW50TGlrZSJdLCJzb3VyY2VSb290IjoiIn0=